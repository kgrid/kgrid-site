<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KO with Dependencies | Knowledge Grid Guides</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@kgrid">
    <meta name="twitter:creator" content="@kgrid">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Guides">
    <meta property="og:site_name" content="Guides">
    <meta property="og:url" content="https://kgrid.org">
    
    <link rel="preload" href="/guides/assets/css/0.styles.81271bcf.css" as="style"><link rel="preload" href="/guides/assets/js/app.37c0a637.js" as="script"><link rel="preload" href="/guides/assets/js/2.816b06cd.js" as="script"><link rel="preload" href="/guides/assets/js/27.a1431ff7.js" as="script"><link rel="prefetch" href="/guides/assets/js/10.34eb8493.js"><link rel="prefetch" href="/guides/assets/js/11.2471b46f.js"><link rel="prefetch" href="/guides/assets/js/12.1a7fc954.js"><link rel="prefetch" href="/guides/assets/js/13.2e6513e0.js"><link rel="prefetch" href="/guides/assets/js/14.01fa979a.js"><link rel="prefetch" href="/guides/assets/js/15.86643edb.js"><link rel="prefetch" href="/guides/assets/js/16.647a8564.js"><link rel="prefetch" href="/guides/assets/js/17.0ecba8d9.js"><link rel="prefetch" href="/guides/assets/js/18.9594982a.js"><link rel="prefetch" href="/guides/assets/js/19.5c3adb55.js"><link rel="prefetch" href="/guides/assets/js/20.e7f4e06a.js"><link rel="prefetch" href="/guides/assets/js/21.243c487a.js"><link rel="prefetch" href="/guides/assets/js/22.a37447e7.js"><link rel="prefetch" href="/guides/assets/js/23.c4d1267d.js"><link rel="prefetch" href="/guides/assets/js/24.7053dacd.js"><link rel="prefetch" href="/guides/assets/js/25.23e7984f.js"><link rel="prefetch" href="/guides/assets/js/26.8a53e0e2.js"><link rel="prefetch" href="/guides/assets/js/28.05517b84.js"><link rel="prefetch" href="/guides/assets/js/29.a0f3a2b4.js"><link rel="prefetch" href="/guides/assets/js/3.3346d14d.js"><link rel="prefetch" href="/guides/assets/js/30.077f120d.js"><link rel="prefetch" href="/guides/assets/js/31.30cbfe5c.js"><link rel="prefetch" href="/guides/assets/js/32.7407418c.js"><link rel="prefetch" href="/guides/assets/js/33.c82918f7.js"><link rel="prefetch" href="/guides/assets/js/34.0e6fd24f.js"><link rel="prefetch" href="/guides/assets/js/35.53c7ee36.js"><link rel="prefetch" href="/guides/assets/js/36.b87be4dd.js"><link rel="prefetch" href="/guides/assets/js/4.c3d27c64.js"><link rel="prefetch" href="/guides/assets/js/5.771379f5.js"><link rel="prefetch" href="/guides/assets/js/6.7ddc698b.js"><link rel="prefetch" href="/guides/assets/js/7.de908ad1.js"><link rel="prefetch" href="/guides/assets/js/8.b910c77a.js"><link rel="prefetch" href="/guides/assets/js/9.515b0df3.js">
    <link rel="stylesheet" href="/guides/assets/css/0.styles.81271bcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/guides/" class="home-link router-link-active"><!----> <span class="site-name">Knowledge Grid Guides</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/quickstart/" class="nav-link">
  Quick Start
</a></li><li class="dropdown-item"><!----> <a href="/guides/developer/" class="nav-link">
  Developer's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/integrator/" class="nav-link">
  Integrator's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/tutorial/" class="nav-link router-link-active">
  Advanced Tutorial
</a></li></ul></div></div><div class="nav-item"><a href="/guides/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/guides/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/guides/awesome/" class="nav-link">
  Awesome
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Help" class="dropdown-title"><span class="title">Help</span> <span class="arrow down"></span></button> <button type="button" aria-label="Help" class="mobile-dropdown-title"><span class="title">Help</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="mailto:kgrid-developers@umich.edu" class="nav-link external">
  Email
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Event" class="dropdown-title"><span class="title">Event</span> <span class="arrow down"></span></button> <button type="button" aria-label="Event" class="mobile-dropdown-title"><span class="title">Event</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/workshop2019.html" class="nav-link">
  Fall 2019 Workshop
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/quickstart/" class="nav-link">
  Quick Start
</a></li><li class="dropdown-item"><!----> <a href="/guides/developer/" class="nav-link">
  Developer's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/integrator/" class="nav-link">
  Integrator's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/tutorial/" class="nav-link router-link-active">
  Advanced Tutorial
</a></li></ul></div></div><div class="nav-item"><a href="/guides/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/guides/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/guides/awesome/" class="nav-link">
  Awesome
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Help" class="dropdown-title"><span class="title">Help</span> <span class="arrow down"></span></button> <button type="button" aria-label="Help" class="mobile-dropdown-title"><span class="title">Help</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="mailto:kgrid-developers@umich.edu" class="nav-link external">
  Email
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Event" class="dropdown-title"><span class="title">Event</span> <span class="arrow down"></span></button> <button type="button" aria-label="Event" class="mobile-dropdown-title"><span class="title">Event</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/workshop2019.html" class="nav-link">
  Fall 2019 Workshop
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guides/tutorial/" aria-current="page" class="sidebar-link">Advanced Tutorial</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/#before-we-start" class="sidebar-link">Before We Start</a></li></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Anatomy of a KO</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/ko/overview.html" class="sidebar-link">Knowledge Object Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/ko/overview.html#metadata" class="sidebar-link">Metadata</a></li></ul></li><li><a href="/guides/tutorial/ko/koio.html" class="sidebar-link">KOIO</a></li></ul></section></li><li><a href="/guides/tutorial/createko.html" aria-current="page" class="active sidebar-link">KO with Dependencies</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/createko.html#create-bundled-ko" class="sidebar-link">Create bundled KO</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/createko.html#build-bundled-ko" class="sidebar-link">Build bundled KO</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/createko.html#activate-bundled-ko-service" class="sidebar-link">Activate bundled KO Service</a></li></ul></li><li><a href="/guides/tutorial/packageko.html" class="sidebar-link">Package the KO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/packageko.html#file-name-for-the-zip-file" class="sidebar-link">File Name for the ZIP File</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/packageko.html#using-kgrid-cli" class="sidebar-link">Using KGrid CLI</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/packageko.html#next-step" class="sidebar-link">Next step</a></li></ul></li><li><a href="/guides/tutorial/deployko.html" class="sidebar-link">Deploy the packaged KO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/deployko.html#deploy-a-single-ko-by-calling-kos" class="sidebar-link">Deploy a single KO by calling /kos</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/deployko.html#deploy-a-collection-of-kos-by-calling-kos-manifest" class="sidebar-link">Deploy a collection of KOs by calling /kos/manifest</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/deployko.html#deploy-collections-of-kos-by-calling-kos-manifest-list" class="sidebar-link">Deploy collections of KOs by calling /kos/manifest-list</a></li></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>KO Service OpenAPI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/openapi/overview.html" class="sidebar-link">KO Service OpenAPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/openapi/overview.html#structure" class="sidebar-link">Structure</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/openapi/overview.html#resources" class="sidebar-link">Resources</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment Specification</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/deployment/deployment.html" class="sidebar-link">Deployment Specification</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>KO Service Testing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/testing/integration.html" class="sidebar-link">Integration Testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/testing/integration.html#postman" class="sidebar-link">Postman</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/testing/integration.html#newman" class="sidebar-link">Newman</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>KO Service Clients</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/clients/curl.html" class="sidebar-link">Curl</a></li><li><a href="/guides/tutorial/clients/httpie.html" class="sidebar-link">HTTPie</a></li><li><a href="/guides/tutorial/clients/postman.html" class="sidebar-link">Postman</a></li><li><a href="/guides/tutorial/clients/swagger.html" class="sidebar-link">Swagger Editor</a></li><li><a href="/guides/tutorial/clients/insomnia.html" class="sidebar-link">Insomnia</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Remote Runtimes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/runtimes/overview.html" class="sidebar-link">Kgrid External Runtimes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/runtimes/overview.html#using-an-external-runtime" class="sidebar-link">Using an external runtime</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/runtimes/overview.html#developing-a-new-remote-runtime" class="sidebar-link">Developing a new remote runtime</a></li></ul></li></ul></section></li><li><a href="/guides/tutorial/executiveobject.html" class="sidebar-link">KO calling other KOs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#context-of-v8" class="sidebar-link">Context of V8</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#get-the-executor" class="sidebar-link">Get the executor</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#pass-in-the-inputs" class="sidebar-link">Pass in the inputs</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#work-with-the-result" class="sidebar-link">Work with the result</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#more-examples" class="sidebar-link">More examples</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#node-js-engine-example" class="sidebar-link">Node.js engine example:</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#python-engine-example" class="sidebar-link">Python engine example:</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ko-with-dependencies"><a href="#ko-with-dependencies" class="header-anchor">#</a> KO with Dependencies</h1> <p>Many of the functions developed for Knowledge Objects are simple and require no external libraries or files.  However the use of these libraries and files can simplify design, increase maintainability and create a better solution.</p> <p>The <a href="https://github.com/kgrid-objects/example-collection/tree/master/collection/js-bundled-v1.0" target="_blank" rel="noopener noreferrer">js-bundled object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is an object that uses npm to bundle dependencies into a single javascript file that can run in the V8 engine.</p> <p>Currently the KGrid Activator uses the <a href="https://www.graalvm.org/reference-manual/js/FAQ/" target="_blank" rel="noopener noreferrer">Graal V8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> JavaScript engine for execution of JavaScript Objects. V8 is compatible with the <a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-262/" target="_blank" rel="noopener noreferrer">ECMAScript 2020 specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> but doesn't support external dependencies without <em>bundling</em> your function using <a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">Webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">Babel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.  The use of webpack and babel allows the function to be transpiled into a graal V8 compliant code artifact.</p> <h2 id="create-bundled-ko"><a href="#create-bundled-ko" class="header-anchor">#</a> Create bundled KO</h2> <p>To create a new KO from the template of bundled KO, run the KGrid CLI command and select the template type of <code>bundled</code>:</p> <div class="language- extra-class"><pre class="language-text"><code> kgrid create myko
</code></pre></div><p>Comparing with the project created as a simple KO in the developer's guide, you will notice some additional files <code>webpack.config.js</code> and <code>package.json</code> in the created KO folder. These files will configure the webpack tool to build the source files into a JAVASCRIPT bundle, ready for KGrid activator.</p> <p>Looking in to the folder named <code>/src</code>, you will find a few more files in addition to <code>index.js</code>.</p> <p><code>cvdscore.js</code> is a Javascript file containing the core function of SCORE computation.</p> <p><code>beta.json</code> and <code>coefficients.json</code> are the data files containing coefficients for the SCORE models. They are referenced in <code>cvdscore.js</code> using <code>require()</code>.</p> <p>When we build the bundled KO, <code>index.js</code> will be the main entry for <code>webpack</code>.</p> <h2 id="build-bundled-ko"><a href="#build-bundled-ko" class="header-anchor">#</a> Build bundled KO</h2> <p>Similar with the simple KO, the bundled KO under development is basically a Javascript project which follows the development pattern of node.js/npm.</p> <p>In our example template, <code>webpack</code> is used to build the bundled script. We use default values for the webpack configuration wherever possible to keep it simple.</p> <p>This shows the configuration file from the template.</p> <div class="language- extra-class"><pre class="language-text"><code>let path = require('path');
module.exports = {

  entry: './src/index.js',

  output: {
    library: &quot;score&quot;,
    path: path.resolve(__dirname, 'dist')
  },

  module: {
    rules: [
      {
        test: /\.m?js$/,
        exclude: /(node_modules|bower_components)/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }
    ]
  },
};
</code></pre></div><p>By default, the <code>output.libraryTarget</code> is set as 'var'. For bundling the KO for Graal V8 Script Engine, only 'var', 'assign' and 'this' are valid options. By default, the output file is set as 'main.js' in the folder defined in <code>path</code>. In the example template, it will be <code>/dist</code>.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Note library name in the output element <em>library: &quot;score&quot;</em> must match the deployment description element <em>entry: score</em> found on the <a href="/guides/tutorial/deployment/deployment.html">deployment specification page</a>.</p></div> <p>For details on customization of the webpack config, please refer to <a href="https://v4.webpack.js.org/concepts/configuration/" target="_blank" rel="noopener noreferrer">Webpack Documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>To bundle the code you need to change to the ko directory and run</p> <div class="language- extra-class"><pre class="language-text"><code>npm install
</code></pre></div><p>Once <code>npm</code> installs all dependencies, run</p> <div class="language- extra-class"><pre class="language-text"><code>npm run build
</code></pre></div><p>The build process will create a file <code>main.js</code> in <code>/dist</code> directory. <code>deployment.yaml</code> is referring this file as the artifact for the service. Note that this object will not run in an activator if it has not been bundled.</p> <h2 id="activate-bundled-ko-service"><a href="#activate-bundled-ko-service" class="header-anchor">#</a> Activate bundled KO Service</h2> <p>Now, the bundled KO is ready to be activated. The activation process is the same as described in the developer's guide, referring to the <a href="http://kgrid.org/kgrid-activator/#activator-quick-start" target="_blank" rel="noopener noreferrer">Kgrid Activator Documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/19/2021, 8:44:53 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/tutorial/ko/koio.html" class="prev">
        KOIO
      </a></span> <span class="next"><a href="/guides/tutorial/packageko.html">
        Package the KO
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/guides/assets/js/app.37c0a637.js" defer></script><script src="/guides/assets/js/2.816b06cd.js" defer></script><script src="/guides/assets/js/27.a1431ff7.js" defer></script>
  </body>
</html>
